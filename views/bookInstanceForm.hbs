<h1>{{title}}</h1>

<form action="" method="POST">
  <div class="form-group">
    <label for="book">Book:</label>
    <select name="book" id="book" class="form-control">
      {{#each books}}
        <option value={{this._id}} {{#if ../bookInstance}}{{#if (equal ../bookInstance.book._id this._id)}}selected{{/if}}{{/if}}>
          {{this.title}}
        </option>
      {{/each}}
    </select>
    {{#if errors.book}}
    <div class="invalid-feedback">{{errors.book.msg}}</div>
    {{/if}}

    <label for="imprint">Imprint:</label>
    <input 
      type="text" 
      id="imprint" 
      name="imprint"
      placeholder="Imprint"
      class={{#if errors.imprint}}"form-control is-invalid"{{else}}"form-control"{{/if}} 
      value={{#if bookInstance}}"{{bookInstance.imprint}}"{{else}}""{{/if}}>
    {{#if errors.imprint}}
    <div class="invalid-feedback">{{errors.imprint.msg}}</div>
    {{/if}}

    <label for="status">Status:</label>
    <select name="status" id="status" class="form-control">
      {{#each statuses}}
      <option value={{this}} {{#if ../bookInstance}}{{#if (equal ../bookInstance.status this)}}selected{{/if}}{{/if}}>
        {{this}}
      </option>
      {{/each}}
    </select>
    {{#if errors.status}}
    <div class="invalid-feedback">{{errors.status.msg}}</div>
    {{/if}}

    <label for="due">Due date (if applicable):</label>
    <input 
      type="date" 
      id="due" 
      name="due"
      placeholder="mm/dd/yyyy"
      class={{#if errors.due}}"form-control is-invalid"{{else}}"form-control"{{/if}} 
      value={{#if bookInstance}}{{#if bookInstance.due}}{{formatymd bookInstance.due}}{{/if}}{{else}}""{{/if}}>
    {{#if errors.due}}
      <div class="invalid-feedback">{{errors.due.msg}}</div>
    {{/if}}

    <input type="submit" value="Submit" class="btn btn-primary">
  </div>
</form>